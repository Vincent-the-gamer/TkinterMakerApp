(function(){var t={2909:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"resize",on:{mousedown:function(e){return e.stopPropagation(),t.resize(e)}}})},i=[],s={methods:{resize(t){let e=t.target.parentElement,n=e.getBoundingClientRect(),r=t.pageX,i=t.pageY,s=n.width,a=n.height;document.onmousemove=t=>{this.$emit("resize",{width:Math.max(24,parseInt(t.pageX-r+s)),height:Math.max(24,parseInt(t.pageY-i+a))})},document.onmouseup=t=>{document.onmousemove=null,document.onmouseup=null}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"77a73a58",null),u=l.exports},1695:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},t._l(t.frame.elements,(function(n,r){return e(n.type,{directives:[{name:"show",rawName:"v-show",value:t.isShow(t.frame,n),expression:"isShow(frame,element)"}],key:r,tag:"component",class:{frame:1==n.frame},staticStyle:{position:"absolute"},style:{top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px"},attrs:{tabindex:0,id:n.id,info:n},on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.allowDrop(e)}},nativeOn:{keydown:function(e){return t.keyDown(e)},contextmenu:function(e){return e.stopPropagation(),e.preventDefault(),t.showMenu(e,r)},mousedown:function(e){return e.stopPropagation(),t.elementMove(e,n,r)}}},[e("Resize",{directives:[{name:"show",rawName:"v-show",value:t.curId==n.id,expression:"curId == element.id"}],on:{resize:e=>{t.eleResize(e,n,r)}}}),n.frame?[e("comp",{attrs:{frame:n}})]:t._e()],2)})),1)},i=[],s=n(2909),a=n(3822),o={props:["frame"],components:{Resize:s.Z},data(){return{contextMenuData:{menuName:"demo",eleIndex:null,axis:{x:null,y:null},menulists:[{fnHandler:"delEle",btnName:"删除"}]}}},computed:{...(0,a.Se)(["curId","attrsForm"])},methods:{...(0,a.nv)(["setCurId","setAttrsForm","showContextMenu"]),elementMove(t,e,n){if(1!=t.which)return;let r=t.currentTarget;this.$store.dispatch("setCurId",e.id),this.$store.dispatch("setAttrsForm",e);let i=t.clientX-r.offsetLeft,s=t.clientY-r.offsetTop;document.onmousemove=t=>{let e=t.clientX-i,r=t.clientY-s;r=10*parseInt(r/10)+(r%10>=5?10:0),e=10*parseInt(e/10)+(e%10>=5?10:0),r<0&&(r=0),e<0&&(e=0),this.frame.elements[n].top=r,this.frame.elements[n].left=e},document.onmouseup=t=>{document.onmousemove=null,document.onmouseup=null}},keyDown(t){let e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];if(e.indexOf(t.key)>-1)switch(t.preventDefault(),t.key){case"ArrowUp":this.attrsForm.top>=1&&(this.attrsForm.top-=1);break;case"ArrowDown":this.attrsForm.top+=1;break;case"ArrowLeft":this.attrsForm.left>=1&&(this.attrsForm.left-=1);break;case"ArrowRight":this.attrsForm.left+=1;break;default:break}},showMenu(t,e){t.preventDefault(),this.$store.dispatch("showContextMenu",{x:t.clientX,y:t.clientY,index:e,frame:this.frame,position:"element"})},eleResize({width:t,height:e},n,r){this.frame.elements[r].width=t,this.frame.elements[r].height=e},isShow(t,e){return"tk_tabs"!=t.type||t.curTab==e.tab}}},l=o,u=n(1001),c=(0,u.Z)(l,r,i,!1,null,"013ffe35",null),d=c.exports},6785:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("button",[t._v(" "+t._s(t.info.text)+" "),t._t("default")],2)},i=[],s={props:{info:{type:Object}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,null,null),u=l.exports},2535:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tk_check_button",style:t.style},[e("input",{attrs:{type:"checkbox"}}),e("span",{staticClass:"val"},[t._v(t._s(t.info.text))]),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"567b3530",null),u=l.exports},7057:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tk_frame",style:t.style},[t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"d6d85dd4",null),u=l.exports},6689:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"input",style:t.style},[e("span",{staticClass:"val"},[t._v(t._s(t.info.text))]),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"38e1ae20",null),u=l.exports},5525:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lable",style:t.style},[e("span",{staticClass:"val"},[t._v(t._s(t.info.text))]),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"5b952774",null),u=l.exports},9547:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"tk_label_frame",style:t.style},[e("legend",{staticClass:"title"},[t._v(t._s(t.info.text))]),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"bc0878e6",null),u=l.exports},4472:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_box",style:t.style},[t._l(t.list,(function(n,r){return e("div",{key:r,class:{"cur-index":t.curIndex==r},on:{click:function(e){t.curIndex=r}}},[t._v(" "+t._s(n)+" ")])})),t._t("default")],2)},i=[],s={props:{info:{type:Object}},data(){return{curIndex:0,list:["列表框","Python","Tkinter Helper"]}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"6f11a5ca",null),u=l.exports},5743:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progressbar",style:t.style},[e("div",{staticClass:"val",style:t.valStyle}),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}},valStyle(){let t={position:"absolute",width:"inherit",height:"60%",bottom:0},e={width:"60%",height:"inherit"};return this.info.width>this.info.height?e:t}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"7687896c",null),u=l.exports},2603:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tk_radio_button",style:t.style},[e("input",{attrs:{type:"radio"}}),e("span",{staticClass:"val"},[t._v(t._s(t.info.text))]),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"17de6886",null),u=l.exports},8051:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_box",style:t.style},[e("select",{staticClass:"select"},t._l(t.list,(function(n,r){return e("option",{key:r,staticClass:"options"},[t._v(" "+t._s(n)+" ")])})),0),t._t("default")],2)},i=[],s={props:{info:{type:Object}},data(){return{curIndex:0,list:["下拉选择框","Python","Tkinter Helper"]}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"a834cc7a",null),u=l.exports},563:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",style:t.style},[e("table",{staticClass:"tbl"},[e("tr",{staticClass:"title"},t._l(t.columns,(function(n,r){return e("td",{key:r,style:{width:n.width+"px"}},[t._v(t._s(n.name))])})),0),t._l(t.tableData,(function(n,r){return e("tr",{key:r,staticClass:"list",class:{selected:t.selected==r},on:{click:function(e){t.selected=r}}},t._l(n,(function(n,r){return e("td",{key:r},[t._v(" "+t._s(n)+" ")])})),0)}))],2),t._t("default")],2)},i=[],s={props:{info:{type:Object}},data(){return{selected:null,columns:[{name:"ID",width:50},{name:"网站名",width:100},{name:"地址",width:300}],tableData:[[1,"github","https://github.com/iamxcd/tkinter-helper"],[2,"演示地址","https://www.codingstudy.cn/tkinter-helper"]]}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"13635922",null),u=l.exports},5993:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tk_tabs",style:t.style},[e("div",{staticClass:"tabs"},t._l(t.info.tabs,(function(n,r){return e("div",{key:r,staticClass:"tab",class:{active:t.info.curTab==r},on:{click:function(e){t.info.curTab=r}}},[t._v(" "+t._s(n)+" ")])})),0),e("div",{staticClass:"content",attrs:{id:t.id}},[t._t("default")],2)])},i=[],s={props:{info:{type:Object},id:{type:String}},data(){return{curTab:0}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"dcefa4ac",null),u=l.exports},9948:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"text",style:t.style},[t._v(" 文本框 "),t._t("default")],2)},i=[],s={props:{info:{type:Object}},computed:{style(){return{width:this.info.width,height:this.info.height}}}},a=s,o=n(1001),l=(0,o.Z)(a,r,i,!1,null,"17ce002c",null),u=l.exports},4165:function(t,e,n){"use strict";var r=n(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",[e("el-header",{staticClass:"header"},[e("IHeader",{attrs:{beforeUpload:t.beforeUpload},on:{viewCode:t.viewCode,clearData:t.clearData,onClickExport:t.onClickExport}})],1),e("el-container",{staticClass:"container"},[e("WidgetBox"),e("el-main",[e("Elements")],1),e("AttrsBox",{model:{value:t.attrsForm,callback:function(e){t.attrsForm=e},expression:"attrsForm"}})],1),e("IFooter")],1),e("CodeView",{ref:"code_view"}),e("VueContextMenu",{attrs:{contextMenuData:t.contextMenu},on:{handler:t.contextMenuHandler}})],1)},s=[],a=(n(1703),n(4806)),o=n.n(a);class l{depend_package(){return"\nfrom tkinter import *\nfrom tkinter.ttk import *\n"}main(t){return`\n\ndef run():\n    win = Win_${t.id}()\n    # TODO 绑定点击事件或其他逻辑处理\n    win.root.mainloop()\n\nif __name__ == "__main__":\n    run()\n\n`}}class u{setval(t){let e="";for(const n in t){let r=t[n];r.frame?e+=`\n        self.${r["type"]}_${r["id"]} = Frame_${r["id"]}(self.root)`:e+=`\n        self.${r["type"]}_${r["id"]} = self.__${r["type"]}_${r["id"]}()`}return e}}class c{make(t,e){let n=`\nclass Win_${t.id}:\n    def __init__(self):\n        self.root = self.__win()`,r="",i=new u;r+=i.setval(e),r+="\n";let s=this.win(t.text,t.width,t.height);return n+r+s}win(t,e,n){return`\n    def __win(self):\n        root = Tk()\n        root.title("${t}")\n        # 设置大小 居中展示\n        width = ${e}\n        height = ${n}\n        screenwidth = root.winfo_screenwidth()\n        screenheight = root.winfo_screenheight()\n        geometry = '%dx%d+%d+%d' % (width, height, (screenwidth - width) / 2, (screenheight - height) / 2)\n        root.geometry(geometry)\n        root.resizable(width=False, height=False)\n        return root\n`}}class d{make(t,e){let n=`\nclass Frame_${t.id}:\n    def __init__(self,parent):\n        self.root = self.__frame(parent)`,r="",i=new u;return r+=i.setval(e),n+r+this.frame(t)}frame(t){let e=`frame.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})`;return!t.width|!t.height&&(e=""),`\n    def __frame(self,parent):\n        frame = Frame(parent)\n        ${e}\n        return frame\n`}}class h{make(t,e){let n=`\nclass Frame_${t.id}:\n    def __init__(self,parent):\n        self.root = self.__frame(parent)`,r="",i=new u;return r+=i.setval(e),n+r+this.label_frame(t)}label_frame(t){return`\n    def __frame(self,parent):\n        frame = LabelFrame(parent,text="${t.text}")\n        frame.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return frame\n`}}class f{tk_button(t){return`\n    def __tk_button_${t.id}(self):\n        btn = Button(self.root, text="${t?.text}")\n        btn.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return btn\n`}tk_input(t){return`\n    def __tk_input_${t.id}(self):\n        ipt = Entry(self.root)\n        ipt.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return ipt\n`}tk_label(t){return`\n    def __tk_label_${t.id}(self):\n        label = Label(self.root,text="${t.text}")\n        label.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return label\n`}tk_text(t){return`\n    def __tk_text_${t.id}(self):\n        text = Text(self.root)\n        text.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return text\n`}tk_radio_button(t){return`\n    def __tk_radio_button_${t.id}(self):\n        rb = Radiobutton(self.root,text="${t.text}")\n        rb.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return rb\n`}tk_check_button(t){return`\n    def __tk_check_button_${t.id}(self):\n        cb = Checkbutton(self.root,text="${t.text}")\n        cb.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return cb\n`}tk_list_box(t){return`\n    def __tk_list_box_${t.id}(self):\n        lb = Listbox(self.root)\n        lb.insert(END, "列表框")\n        lb.insert(END, "Python")\n        lb.insert(END, "Tkinter Helper")\n        lb.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return lb\n`}tk_select_box(t){return`\n    def __tk_select_box_${t.id}(self):\n        cb = Combobox(self.root, state="readonly")\n        cb['values'] = ("下拉选择框", "Python", "Tkinter Helper")\n        cb.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return cb\n`}tk_progressbar(t){let e="HORIZONTAL";return t.width<t.height&&(e="VERTICAL"),`\n    def __tk_progressbar_${t.id}(self):\n        progressbar = Progressbar(self.root, orient=${e})\n        progressbar.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return progressbar\n`}tk_table(t){return`\n    def __tk_table_${t.id}(self):\n        # 表头字段 表头宽度\n        columns = {"ID":50, "网站名": 100, "地址": 300}\n        # 初始化表格 表格是基于Treeview，tkinter本身没有表格。show="headings" 为隐藏首列。\n        tk_table = Treeview(self.root, show="headings", columns=list(columns))\n        for text, width in columns.items():  # 批量设置列属性\n            tk_table.heading(text, text=text, anchor='center')\n            tk_table.column(text, anchor='center', width=width, stretch=False) # stretch 不自动拉伸\n        \n        data = [\n            [1,"github", "https://github.com/iamxcd/tkinter-helper"],\n            [2,"演示地址", "https://www.pytk.net/tkinter-helper"]\n        ]\n        \n        # 导入初始数据\n        for values in data:\n            tk_table.insert('', END, values=values)\n        \n        tk_table.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return tk_table\n`}}class p{make(t,e){let n=`\nclass Frame_${t.id}:\n    def __init__(self,parent):\n        self.root = self.__frame(parent)`;return n+this.tabs_frame(t)+this.create_class(t)}tabs_frame(t){let e="";for(const n in t.tabs){let r=`\n        ${t["type"]}_${t["id"]}_${n} = Frame_${t["id"]}_${n}(frame)\n        frame.add(${t["type"]}_${t["id"]}_${n}.root, text="${t.tabs[n]}")\n`;e+=r}return`\n    def __frame(self,parent):\n        frame = Notebook(parent)\n${e}\n        frame.place(x=${t.left}, y=${t.top}, width=${t.width}, height=${t.height})\n        return frame\n`}create_class(t){let e="",n=new d,r=new f;for(const i in t.tabs){let s=_.cloneDeep(t),a=_.filter(s.elements,(function(t){return t.tab==Number(i)}));s.id=s.id+"_"+i,e+=n.make(s,a);for(const t in a){let n=a[t];e+=r[n.type](n)}}return e}}class m{constructor(t){this.frame=t,this.maps={tk_win:new c,tk_frame:new d,tk_label_frame:new h,tk_tabs:new p},this.tp=new f}build(){let t="",e=new l;return t+=e.depend_package(),t+=this.create_class(this.frame),t+=e.main(this.frame),t}create_class(t){let e="";e=this.maps[t.type].make(t,t.elements);let n=o().filter(t.elements,(function(t){return!t.frame}));if("tk_tabs"!=t.type)for(const i in n){let t=n[i];e+=this.tp[t.type](t)}let r=o().filter(t.elements,(function(t){return 1==t.frame}));for(const i in r)e+=this.create_class(r[i]);return e}}var v=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:"Python代码",top:"30px",visible:t.is_show,width:"80%"},on:{"update:visible":function(e){t.is_show=e}}},[e("codemirror",{attrs:{options:t.cmOption},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1)},w=[],b=n(8223);n(2989);var x={components:{codemirror:b.codemirror},data(){return{code:"",is_show:!1,cmOption:{lineNumbers:!0,mode:"text/x-python",theme:"base16-light"}}},methods:{open(t){this.code=t,this.is_show=!0}}},g=x,y=n(1001),k=(0,y.Z)(g,v,w,!1,null,"722e6a28",null),$=k.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ele_box"},[e("div",{staticClass:"group"},[e("div",{staticClass:"group_name"},[t._v(" 基础组件 ")]),e("div",{staticClass:"list"},t._l(t.widgetList,(function(n,r){return e("div",{key:r,staticClass:"item",attrs:{id:n.type,draggable:"true"},on:{dragstart:function(e){return t.dragstart(e)}}},[e("div",{staticClass:"title"},[t._v(" "+t._s(n.title)+" ")])])})),0)])])},F=[],T=[{title:"标签",type:"tk_label"},{title:"按钮",type:"tk_button"},{title:"输入框",type:"tk_input"},{title:"文本框",type:"tk_text"},{title:"单选框",type:"tk_radio_button"},{title:"多选框",type:"tk_check_button"},{title:"列表框",type:"tk_list_box"},{title:"下拉框",type:"tk_select_box"},{title:"进度条",type:"tk_progressbar"},{title:"表格",type:"tk_table"},{title:"容器",type:"tk_frame"},{title:"标签容器",type:"tk_label_frame"},{title:"选项卡",type:"tk_tabs"}],D={data(){return{widgetList:T}},methods:{dragstart(t){t.dataTransfer.setData("type",t.target.id),t.dataTransfer.setData("x",t.offsetX),t.dataTransfer.setData("y",t.offsetY)}}},M=D,I=(0,y.Z)(M,C,F,!1,null,"38a7ac4a",null),O=I.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"logo"},[t._v(" "+t._s(t.$config.name)+" ")]),e("div",{staticClass:"menu"},[e("el-button",{attrs:{type:"danger"},on:{click:()=>{this.$emit("clearData")}}},[t._v("清理数据")]),e("el-button",{attrs:{type:"primary"},on:{click:()=>{this.$emit("viewCode")}}},[t._v("查看页面对应的Python代码")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.preview()}}},[t._v("预览页面")]),e("el-dropdown",{staticClass:"export_btn",attrs:{"split-button":"",type:"primary"},on:{click:()=>{this.$emit("onClickExport")}}},[t._v(" 导出.tk文件 "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[e("el-upload",{attrs:{action:"","before-upload":t.beforeUpload,limit:1}},[t._v(" 导入布局文件 ")])],1)],1)],1)],1)])},S=[];const E=n(4147),Z={url:"http://127.0.0.1:6050",version:E.version};var j={name:"Tkinter页面制作小工具",version:E.version},A=n(3822),R={props:["beforeUpload"],computed:{...(0,A.Se)(["frame"])},methods:{clearData(){this.$confirm("此操作将会清空数据和缓存, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.elements=[],localStorage.clear(),this.$message({type:"success",message:"删除成功!"})}))},preview(){let t=new m(this.frame),e=t.build();e+="run()",this.$http.post(Z.url,e,{headers:{"Content-Type":"text/plain"}}).then((t=>{this.$message.success("发送成功")})).catch((t=>{this.$alert("下载预览服务脚本<a href='/preview.py'>[preview.py]</a>，启动后在尝试。","服务未启动",{dangerouslyUseHTMLString:!0})}))}}},H=R,P=(0,y.Z)(H,N,S,!1,null,"062f19c6",null),z=P.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("div",{staticClass:"info"},[e("span",[t._v(t._s(t.$config.name)+" | ")]),e("span",[t._v("V"+t._s(t.$config.version))])]),t._m(0)])},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"guifeng"},[e("a",{attrs:{href:"https://space.bilibili.com/3342738",target:"_blank"}},[t._v("诡锋的B站 | ")]),e("a",{attrs:{href:"https://github.com/Vincent-the-gamer",target:"_blank"}},[t._v("诡锋的Github")])])}],B={},X=B,W=(0,y.Z)(X,U,L,!1,null,"4b4302ed",null),Y=W.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"attrs_box"},[e("div",{staticClass:"title"},[t._v("组件配置")]),e("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"left",model:t.attrsForm,"label-width":"50px"}},[null!=t.attrsForm.id?e("el-form-item",{attrs:{label:"ID"}},[e("el-input",{model:{value:t.attrsForm.id,callback:function(e){t.$set(t.attrsForm,"id",e)},expression:"attrsForm.id"}},[e("template",{slot:"prepend"},[t._v(t._s(t.attrsForm.type))])],2)],1):t._e(),e("el-form-item",{attrs:{label:"width"}},[e("el-input",{model:{value:t.attrsForm.width,callback:function(e){t.$set(t.attrsForm,"width",e)},expression:"attrsForm.width"}})],1),e("el-form-item",{attrs:{label:"height"}},[e("el-input",{model:{value:t.attrsForm.height,callback:function(e){t.$set(t.attrsForm,"height",e)},expression:"attrsForm.height"}})],1),e("el-form-item",{attrs:{label:"top"}},[e("el-input",{model:{value:t.attrsForm.top,callback:function(e){t.$set(t.attrsForm,"top",e)},expression:"attrsForm.top"}})],1),e("el-form-item",{attrs:{label:"left"}},[e("el-input",{model:{value:t.attrsForm.left,callback:function(e){t.$set(t.attrsForm,"left",e)},expression:"attrsForm.left"}})],1),null!=t.attrsForm.text?e("el-form-item",{attrs:{label:"text"}},[e("el-input",{model:{value:t.attrsForm.text,callback:function(e){t.$set(t.attrsForm,"text",e)},expression:"attrsForm.text"}})],1):t._e()],1)],1)},J=[],q={data(){return{}},computed:{...(0,A.Se)(["attrsForm"])}},G=q,K=(0,y.Z)(G,V,J,!1,null,"1caebaea",null),Q=K.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{style:{top:t.frame.top+"px",left:t.frame.left+"px",width:t.frame.width+"px",height:t.frame.height+"px"},attrs:{id:t.id},on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.allowDrop(e)}}},[e("comp",{attrs:{frame:t.frame}}),e("Resize",{directives:[{name:"show",rawName:"v-show",value:"win"==t.curId,expression:"curId == 'win'"}],on:{resize:t.winResize}})],1),e("div",{style:{top:t.frame.top-30+"px",left:t.frame.left+"px",width:t.frame.width+"px"},attrs:{id:"win_title"},on:{mousedown:function(e){return t.winMove(e)}}},[e("span",{staticClass:"title"},[t._v(t._s(t.frame.text))])])])},et=[],nt=n(5936),rt=n.n(nt);const it={top:0,left:0,width:0};class st{tk_button(){return{...it,width:50,height:24,text:"按钮"}}tk_input(){return{...it,width:150,height:24}}tk_label(){return{...it,width:50,height:24,text:"标签"}}tk_text(){return{...it,width:150,height:100}}tk_radio_button(){return{...it,width:80,height:24,text:"单选框"}}tk_check_button(){return{...it,width:80,height:24,text:"多选框"}}tk_list_box(){return{...it,width:150,height:100}}tk_select_box(){return{...it,width:150,height:24}}tk_progressbar(){return{...it,width:150,height:24}}tk_table(){return{...it,width:450,height:70}}tk_frame(){return{...it,width:200,height:150,frame:!0,elements:[]}}tk_label_frame(){return{...it,width:200,height:150,frame:!0,elements:[],text:"标签容器"}}tk_tabs(){return{...it,width:200,height:150,frame:!0,curTab:0,tabs:["选项卡1","选项卡2"],elements:[]}}}var at=n(2909),ot={components:{Resize:at.Z},data(){return{id:"win"}},created(){let t=localStorage.getItem("win");t=JSON.parse(t),null!=t?this.$confirm("是否恢复上次的编辑结果?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.dispatch("setFrame",t),this.$store.dispatch("setAttrsForm",t)})).catch((()=>{localStorage.clear(),this.$store.dispatch("setAttrsForm",this.frame)})):this.$store.dispatch("setAttrsForm",this.frame)},computed:{...(0,A.Se)(["curId","frame"])},watch:{frame:{handler(t){localStorage.setItem("win",JSON.stringify(t))},deep:!0}},methods:{...(0,A.nv)(["setCurId","setAttrsForm"]),winResize({width:t,height:e}){this.frame.width=t,this.frame.height=e},drop(t){t.preventDefault();let e=t.dataTransfer.getData("type"),n=t.dataTransfer.getData("x"),r=t.dataTransfer.getData("y"),i=t.layerY-r,s=t.layerX-n;i=10*parseInt(i/10)+(i%10>=5?10:0),s=10*parseInt(s/10)+(s%10>=5?10:0),i<0&&(i=0),s<0&&(s=0);let a=new st,o={...a[e](),id:rt()(),type:e,top:i,left:s},l=t.toElement.id;if(this.isWin(l))this.frame.elements.push(o);else if(this.isFrame(l)){let t=this.getFrameIndex(l),e=this.frame.elements[t];"tk_tabs"==e.type&&(o.tab=e.curTab),e.elements.push(o)}},allowDrop(t){(this.isWin||this.isFrame(t.toElement.id))&&t.preventDefault()},isWin(t){return"win"==t},isFrame(t){if(this.isWin(t))return!1;let e=_.find(this.frame.elements,{id:t,frame:!0});return void 0!=e},getFrameIndex(t){return _.findIndex(this.frame.elements,{id:t,frame:!0})},showMenu(t,e){t.preventDefault(),this.$store.dispatch("showContextMenu",{x:t.clientX,y:t.clientY,frame:this.frame,position:e})},winMove(t){if(1!=t.which)return;let e=t.currentTarget;this.$store.dispatch("setCurId","win"),this.$store.dispatch("setAttrsForm",this.frame);let n=t.clientX-e.offsetLeft,r=t.clientY-e.offsetTop;r-=30,document.onmousemove=t=>{let e=t.clientX-n,i=t.clientY-r;i<0&&(i=0),e<0&&(e=0),this.frame.top=i,this.frame.left=e},document.onmouseup=t=>{document.onmousemove=null,document.onmouseup=null}}}},lt=ot,ut=(0,y.Z)(lt,tt,et,!1,null,"40c23266",null),ct=ut.exports,dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+t.contextMenuData.menuName,on:{contextmenu:function(t){t.stopPropagation()}}},t._l(t.contextMenuData.menulists,(function(n){return e("div",{key:n.btnName,staticClass:"context-menu-list"},[n.children&&n.children.length>0?e("div",{staticClass:"has-child"},[e("div",{staticClass:"parent-name btn-wrapper-simple",class:{"no-allow":!!n.disabled&&n.disabled}},[e("span",{staticClass:"nav-name-right"},[t._v(t._s(n.btnName))])]),e("Tree",{attrs:{itemchildren:n.children,float:t.floatDirection},on:{childhandler:t.fnHandler}})],1):e("div",[e("div",{staticClass:"no-child-btn btn-wrapper-simple",class:{"no-allow":!!n.disabled&&n.disabled},on:{click:function(e){e.stopPropagation(),!0!==n.disabled&&t.fnHandler(n)}}},[e("i",{staticClass:"nav-icon-fontawe",class:n.icoName?n.icoName:""}),e("span",{staticClass:"nav-name-right"},[t._v(t._s(n.btnName))])])])])})),0)},ht=[],ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"child-ul-wrapper",class:t.float},t._l(t.itemchildren,(function(n){return e("div",{key:n.name,staticClass:"child-li-wrapper"},[n.children&&n.children.length>0?e("div",{staticClass:"has-child"},[e("div",{staticClass:"parent-name btn-wrapper-simple"},[e("span",{staticClass:"nav-name-right"},[t._v(t._s(n.btnName))]),e("i",{staticClass:"icon"})]),e("tree-child-component",{attrs:{itemchildren:n.children,float:t.float},on:{childhandler:t.fnHandler}})],1):e("div",[e("div",{staticClass:"no-child-btn btn-wrapper-simple",on:{click:function(e){return e.stopPropagation(),t.fnHandler(n)}}},[e("i",{staticClass:"nav-icon-fontawe",class:n.icoName?n.icoName:""}),e("span",{staticClass:"nav-name-right"},[t._v(t._s(n.btnName))])])])])})),0)},pt=[],mt={name:"tree-child-component",props:["itemchildren","float"],methods:{fnHandler(t){this.$emit("childhandler",t)}}},_t=mt,vt=(0,y.Z)(_t,ft,pt,!1,null,"f6795038",null),wt=vt.exports,bt={name:"context-menu-component",components:{Tree:wt},data(){return{floatDirection:"float-statue-1"}},props:{contextMenuData:{type:Object,requred:!1,default(){return{menuName:null,axis:{x:null,y:null},menulists:[{fnHandler:"",icoName:"",btnName:""}]}}},transferIndex:{type:Number,default:0}},watch:{"contextMenuData.axis":{handler(t){var e=t.x,n=t.y,r=window.innerWidth,i=window.innerHeight,s=this,a=s.transferIndex,o="vue-contextmenuName-"+s.contextMenuData.menuName,l=document.getElementsByClassName(o)[a];l.style.display="block";var u=30*this.contextMenuData.menulists.length,c=150;l.style.top=(n+u>i?i-u:n)+"px",l.style.left=(e+c>r?r-c:e)+"px",document.addEventListener("mouseup",(function(t){0===t.button&&(l.style.display="none")}),!1),e+2*c>r&&n+2*u>i&&(this.floatDirection="float-status-4"),e+2*c<r&&n+2*u>i&&(this.floatDirection="float-status-1"),e+2*c>r&&n+2*u<i&&(this.floatDirection="float-status-3"),e+2*c<r&&n+2*u<i&&(this.floatDirection="float-status-2")},deep:!0}},methods:{fnHandler(t){this.$emit("handler",t.fnHandler)}}},xt=bt,gt=(0,y.Z)(xt,dt,ht,!1,null,"15b40a60",null),yt=gt.exports;class kt{constructor(t,e){this.contextMenu=t,this.handlerName=e}run(){this[this.handlerName]()}eleDel(){let t=this.contextMenu.eleIndex;null!=t&&(this.contextMenu.frame.elements.splice(t,1),this.contextMenu.eleIndex=null)}eleCopy(){let t=_.cloneDeep(this.contextMenu.frame.elements[this.contextMenu.eleIndex]);t.id=rt()(),t.top+=10,t.left+=10,this.contextMenu.frame.elements.push(t)}}var $t=n(6704),Ct={components:{CodeView:$,WidgetBox:O,AttrsBox:Q,IHeader:z,IFooter:Y,Elements:ct,VueContextMenu:yt},name:"HomeView",data(){return{}},computed:{...(0,A.Se)(["attrsForm","contextMenu","frame"])},methods:{...(0,A.nv)(["setFrame"]),onClickExport(){let t=document.createElement("a");t.download=this.frame.text+".tk",t.style.display="none";let e={win:this.frame};e=JSON.stringify(e),e=$t.DS.encode(e);let n=new Blob([e]);t.href=URL.createObjectURL(n),document.body.appendChild(t),t.click(),document.body.removeChild(t)},beforeUpload(t){let e=new FileReader;return e.readAsText(t,"utf8"),e.onload=()=>{try{let t=e.result;if(t=$t.DS.decode(t),t=JSON.parse(t),!t.win)throw new Error;this.$store.dispatch("setFrame",t.win),this.$message.success("数据导入成功")}catch(t){this.$message.error("文件解析错误")}},!1},viewCode(){let t=new m(this.frame),e=t.build();this.$refs["code_view"].open(e)},contextMenuHandler(t){let e=new kt(this.contextMenu,t);e.run()},clearData(){this.$confirm("此操作将会清空数据和缓存, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.frame.elements=[],localStorage.clear(),this.$message({type:"success",message:"删除成功!"})}))}}},Ft=Ct,Tt=(0,y.Z)(Ft,i,s,!1,null,"47b95d0f",null),Dt=Tt.exports,Mt=t=>{const e=n(1828);e.keys().forEach((n=>{const r=e(n),i=n.split("/").pop().replace(/\.\w+$/,"");t.component(i,r.default||r)}))},It=n(8499),Ot=n.n(It);r["default"].use(A.ZP);var Nt=new A.ZP.Store({state:{curId:"win",attrsForm:{},contextMenu:{menuName:"demo",frame:null,eleIndex:null,position:null,axis:{x:null,y:null},menulists:[{fnHandler:"eleCopy",btnName:"复制组件"},{fnHandler:"eleDel",btnName:"删除"}]},frame:{top:118,left:385,width:600,height:500,id:rt()(),type:"tk_win",text:"我是标题 ~ Tkinter布局助手",elements:[]}},getters:{curId:t=>t.curId,attrsForm:t=>t.attrsForm,contextMenu:t=>t.contextMenu,frame:t=>t.frame},mutations:{SET_CUR_ID(t,e){t.curId=e},SET_FRAME(t,e){t.frame=e},SET_ATTRS_FORM(t,e){t.attrsForm=e},SET_CONTEXT_MENU(t,e){t.contextMenu.position=e.position,t.contextMenu.eleIndex=e.index,t.contextMenu.frame=e.frame,t.contextMenu.axis.x=e.x,t.contextMenu.axis.y=e.y,e.menu&&e.menu.length>0&&(t.contextMenu.menulists=e.menu)}},actions:{setCurId({commit:t},e){t("SET_CUR_ID",e)},setAttrsForm({commit:t},e){t("SET_ATTRS_FORM",e)},showContextMenu({commit:t},e){t("SET_CONTEXT_MENU",e)},setFrame({commit:t},e){t("SET_FRAME",e)}},modules:{}}),St=n(6265),Et=n.n(St);r["default"].use(Ot(),{size:"mini",zIndex:0}),r["default"].config.productionTip=!1,r["default"].prototype.$config=j,r["default"].prototype.$http=Et(),r["default"].use(Mt),window._=n(4806),window._VUE=new r["default"]({store:Nt,render:t=>t(Dt)}).$mount("#app")},1828:function(t,e,n){var r={"./comp.vue":1695,"./tk_button.vue":6785,"./tk_check_button.vue":2535,"./tk_frame.vue":7057,"./tk_input.vue":6689,"./tk_label.vue":5525,"./tk_label_frame.vue":9547,"./tk_list_box.vue":4472,"./tk_progressbar.vue":5743,"./tk_radio_button.vue":2603,"./tk_select_box.vue":8051,"./tk_table.vue":563,"./tk_tabs.vue":5993,"./tk_text.vue":9948};function i(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=s,t.exports=i,i.id=1828},4147:function(t){"use strict";t.exports=JSON.parse('{"name":"tkinter-helper","version":"1.0.1","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build"},"dependencies":{"axios":"^0.27.2","core-js":"^3.23.5","element-ui":"^2.15.9","js-base64":"^3.7.2","lodash":"^4.17.21","uniqid":"^5.4.0","vue":"^2.7.8","vue-codemirror":"^4.0.6","vuex":"^3.6.2"},"devDependencies":{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-vuex":"^5.0.8","@vue/cli-service":"^5.0.8","sass":"^1.53.0","sass-loader":"^12.0.0","vue-template-compiler":"^2.7.8"}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,function(){var t=[];n.O=function(e,r,i,s){if(!r){var a=1/0;for(c=0;c<t.length;c++){r=t[c][0],i=t[c][1],s=t[c][2];for(var o=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(o=!1,s<a&&(a=s));if(o){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,s,a=r[0],o=r[1],l=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var c=l(n)}for(e&&e(r);u<a.length;u++)s=a[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},r=self["webpackChunktkinter_helper"]=self["webpackChunktkinter_helper"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4165)}));r=n.O(r)})();